(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{139:function(e,t,n){"use strict";n.r(t);var a=n(55),c=n(0),r=n(56),o=n(15),s=n(75),i=n.n(s),u=n(1),l=function(e){var t=e.handleSubmit,n=Object(c.useState)(""),r=Object(a.a)(n,2),s=r[0],l=r[1];return Object(u.jsxs)("form",{className:i.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s),l("")):o.b.warn("Enter a search word")},children:[Object(u.jsx)("button",{type:"submit",className:i.a.searchFormButton,children:Object(u.jsx)("span",{className:i.a.searchFormButtonLabel,children:"Search"})}),Object(u.jsx)("input",{className:i.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){return l(e.currentTarget.value.toLowerCase())},value:s})]})},h=n(3),m=n(9),f=n(76),b=n.n(f),j=function(e){var t=e.movies,n=Object(h.h)(),a=Object(h.j)().url;return Object(u.jsx)("div",{className:b.a.listContainer,children:Object(u.jsx)("ul",{children:t.map((function(e){return Object(u.jsx)("li",{className:b.a.listItem,children:Object(u.jsx)(m.b,{className:b.a.listItem,to:{pathname:"".concat(a,"/").concat(e.id),state:{from:n}},children:e.title})},e.id)}))})})},p=n(77),v=n.n(p),d=function(){var e=Object(h.g)(),t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1],m=Object(c.useState)(null),f=Object(a.a)(m,2),b=f[0],p=f[1];Object(c.useEffect)((function(){var t=v.a.parse(e.location.search);null===s&&t&&t.query&&i(t.query),null!==s&&r.a.fetchMoviesByQuery(s).then((function(e){s&&0===e.results.length?o.b.warn("No results for your query"):p(e.results)})).catch((function(e){return console.log(e)}))}),[e.location.search,s]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{handleSubmit:function(t){i(t),e.push("".concat(e.location.pathname,"?query=").concat(t))}}),b&&Object(u.jsx)(j,{movies:b})]})};t.default=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d,{})})}},56:function(e,t,n){"use strict";var a=n(57),c=n.n(a),r=n(59),o="0ab8998f8a4935c66d8f184668d89e03",s="https://api.themoviedb.org/3";function i(){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(c.a.mark((function e(){var t,n,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,n);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={fetchTrendingMovies:function(){return i("".concat(s,"/trending/movie/day?api_key=").concat(o))},fetchMoviesByQuery:function(e){return i("".concat(s,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(e))},fethMovieById:function(e){return i("".concat(s,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))},fetchCast:function(e){return i("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"))},fetchReviews:function(e){return i("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US"))}};t.a=l},75:function(e,t,n){e.exports={searchbar:"SearchBar_searchbar__2snjg",searchForm:"SearchBar_searchForm__1lgaH",searchFormButton:"SearchBar_searchFormButton__eAZ4_",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__nrZq8",searchFormInput:"SearchBar_searchFormInput__3H3QE"}},76:function(e,t,n){e.exports={listContainer:"MoviesList_listContainer__3e2P2",listItem:"MoviesList_listItem__24Z7-"}}}]);
//# sourceMappingURL=6.d725a27e.chunk.js.map