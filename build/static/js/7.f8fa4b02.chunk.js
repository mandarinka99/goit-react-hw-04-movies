(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[7],{133:function(e,t,n){"use strict";n.r(t);var r=n(54),c=n(0),a=n(55),o=n(15),s=n(73),u=n.n(s),i=n(1),h=function(e){var t=e.handleSubmit,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],h=a[1];return Object(i.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s),h("")):o.b.warn("Enter a search word")},children:[Object(i.jsx)("button",{type:"submit",className:u.a.searchFormButton,children:Object(i.jsx)("span",{className:u.a.searchFormButtonLabel,children:"Search"})}),Object(i.jsx)("input",{className:u.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){return h(e.currentTarget.value.toLowerCase())},value:s})]})},l=n(3),f=n(9),b=function(e){var t=e.movies,n=Object(l.h)(),r=Object(l.j)().url;return Object(i.jsx)("ul",{children:t.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:{pathname:"".concat(r,"/").concat(e.id),state:{from:n}},children:e.title})},e.id)}))})},m=n(74),j=n.n(m),p=function(){var e=Object(l.g)(),t=Object(c.useState)(null),n=Object(r.a)(t,2),s=n[0],u=n[1],f=Object(c.useState)(null),m=Object(r.a)(f,2),p=m[0],v=m[1];Object(c.useEffect)((function(){var t=j.a.parse(e.location.search);null===s&&t&&t.query&&u(t.query),null!==s&&a.a.fetchMoviesByQuery(s).then((function(e){s&&0===e.results.length?o.b.warn("No results for your query"):v(e.results)})).catch((function(e){return console.log(e)}))}),[e.location.search,s]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h,{handleSubmit:function(t){u(t),e.push("".concat(e.location.pathname,"?query=").concat(t))}}),p&&Object(i.jsx)(b,{movies:p})]})};t.default=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(p,{})})}},55:function(e,t,n){"use strict";var r=n(56),c=n.n(r),a=n(58),o="0ab8998f8a4935c66d8f184668d89e03",s="https://api.themoviedb.org/3";function u(){return i.apply(this,arguments)}function i(){return(i=Object(a.a)(c.a.mark((function e(){var t,n,r,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={fetchTrendingMovies:function(){return u("".concat(s,"/trending/movie/day?api_key=").concat(o))},fetchMoviesByQuery:function(e){return u("".concat(s,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(e))},fethMovieById:function(e){return u("".concat(s,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))},fetchCast:function(e){return u("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"))},fetchReviews:function(e){return u("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US"))}};t.a=h},73:function(e,t,n){e.exports={searchbar:"SearchBar_searchbar__2snjg",searchForm:"SearchBar_searchForm__1lgaH",searchFormButton:"SearchBar_searchFormButton__eAZ4_",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__nrZq8",searchFormInput:"SearchBar_searchFormInput__3H3QE"}}}]);
//# sourceMappingURL=7.f8fa4b02.chunk.js.map