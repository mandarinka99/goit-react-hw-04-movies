{"version":3,"sources":["Components/movies/searchBar/SearchBar.js","Components/movies/moviesList/MoviesList.js","Components/movies/Movies.js","pages/MoviesPage.js","action/API.js","Components/movies/searchBar/SearchBar.module.css","Components/movies/moviesList/MoviesList.module.css"],"names":["SearchBar","handleSubmit","useState","search","setSearch","className","s","searchForm","onSubmit","e","preventDefault","trim","toast","warn","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","MoviesList","movies","location","useLocation","url","useRouteMatch","listContainer","map","movie","listItem","to","pathname","id","state","from","title","Movies","history","useHistory","setMovies","useEffect","queryParsed","queryString","parse","query","API","fetchMoviesByQuery","then","data","results","length","catch","error","console","log","push","MoviesPage","API_KEY","BASE_URL","fetchData","a","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendingMovies","fethMovieById","fetchCast","fetchReviews","module","exports"],"mappings":"4MAsCeA,EAlCG,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACnB,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAcA,OACE,uBAAMC,UAAWC,IAAEC,WAAYC,SAZhB,SAACC,GAChBA,EAAEC,iBACoB,KAAlBP,EAAOQ,QAITV,EAAaE,GACbC,EAAU,KAJVQ,IAAMC,KAAK,wBASb,UACE,wBAAQC,KAAK,SAAST,UAAWC,IAAES,iBAAnC,SACE,sBAAMV,UAAWC,IAAEU,sBAAnB,sBAGF,uBACEX,UAAWC,IAAEW,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAxBe,SAACZ,GAAD,OAAOL,EAAUK,EAAEa,cAAcC,MAAMC,gBAyBtDD,MAAOpB,Q,+BCbAsB,EAhBI,SAAC,GAAc,IAAbC,EAAY,EAAZA,OACbC,EAAWC,cACTC,EAAQC,cAARD,IACR,OACE,qBAAKxB,UAAWC,IAAEyB,cAAlB,SACA,6BACKL,EAAOM,KAAI,SAAAC,GAAK,OACf,oBAAmB5B,UAAWC,IAAE4B,SAAhC,SACG,cAAC,IAAD,CAAM7B,UAAWC,IAAE4B,SAAUC,GAAI,CAACC,SAAS,GAAD,OAAKP,EAAL,YAAYI,EAAMI,IAAMC,MAAO,CAACC,KAAMZ,IAAhF,SAA6FM,EAAMO,SAD7FP,EAAMI,Y,iBCmCVI,EArCA,WACb,IAAMC,EAAUC,cAChB,EAA4BzC,mBAAS,MAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4BF,mBAAS,MAArC,mBAAOwB,EAAP,KAAekB,EAAf,KAEAC,qBAAU,WACR,IAAMC,EAAcC,IAAYC,MAAMN,EAAQf,SAASxB,QACxC,OAAXA,GAAmB2C,GAAeA,EAAYG,OAChD7C,EAAU0C,EAAYG,OAET,OAAX9C,GAIJ+C,IAAIC,mBAAmBhD,GAAQiD,MAAK,SAACC,GAC/BlD,GAAkC,IAAxBkD,EAAKC,QAAQC,OACzB3C,IAAMC,KAAK,6BAGb+B,EAAUS,EAAKC,YACdE,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,QAE7B,CAACf,EAAQf,SAASxB,OAAQA,IAO7B,OACE,qCACE,cAAC,EAAD,CAAWF,aAPM,SAACgD,GACpB7C,EAAU6C,GACVP,EAAQkB,KAAR,UAAgBlB,EAAQf,SAASS,SAAjC,kBAAmDa,OAMhDvB,GAAU,cAAC,EAAD,CAAYA,OAAQA,QC9BtBmC,UARI,WACjB,OACE,mCACA,cAAC,EAAD,Q,6DCJEC,EAAU,mCACVC,EAAW,+B,SAEFC,I,2EAAf,4CAAAC,EAAA,6DAAyBpC,EAAzB,+BAA+B,GAAIqC,EAAnC,+BAA4C,GAA5C,SACyBC,MAAMtC,EAAKqC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGUD,EAASE,OAHnB,gDAIIC,QAAQC,OAAO,IAAIC,MAAM,cAJ7B,oF,sBAOA,IAAMvB,EAAM,CACVwB,oBADU,WAER,OAAOV,EAAU,GAAD,OAAID,EAAJ,uCAA2CD,KAG7DX,mBALU,SAKShD,GACjB,OAAO6D,EAAU,GAAD,OAAID,EAAJ,iCAAqCD,EAArC,iCAAqE3D,KAGvFwE,cATU,SASItC,GACZ,OAAO2B,EAAU,GAAD,OAAID,EAAJ,kBAAsB1B,EAAtB,oBAAoCyB,EAApC,qBAGlBc,UAbU,SAaAvC,GACR,OAAO2B,EAAU,GAAD,OAAID,EAAJ,kBAAsB1B,EAAtB,4BAA4CyB,EAA5C,qBAGlBe,aAjBU,SAiBGxC,GACX,OAAO2B,EAAU,GAAD,OAAID,EAAJ,kBAAsB1B,EAAtB,4BAA4CyB,EAA5C,sBAILZ,O,mBChCf4B,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,mBCAhPD,EAAOC,QAAU,CAAC,cAAgB,kCAAkC,SAAW","file":"static/js/6.d725a27e.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./SearchBar.module.css\";\n\nconst SearchBar = ({ handleSubmit }) => {\n  const [search, setSearch] = useState(\"\");\n\n  const handleChange = (e) => setSearch(e.currentTarget.value.toLowerCase());\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (search.trim() === \"\") {\n      toast.warn(\"Enter a search word\");\n      return;\n    } else {\n      handleSubmit(search);\n      setSearch(\"\");\n    }\n  };\n \n  return (\n    <form className={s.searchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.searchFormButton}>\n        <span className={s.searchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={s.searchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={handleChange}\n        value={search}\n      />\n    </form>\n  );\n};\n\nexport default SearchBar;\n","import { Link, useLocation, useRouteMatch } from \"react-router-dom\";\nimport s from \"./MoviesList.module.css\"\n\nconst MoviesList = ({movies}) => {\n  const location = useLocation();\n  const { url } = useRouteMatch();\n  return (\n    <div className={s.listContainer}>\n    <ul>\n        {movies.map(movie => (\n          <li key={movie.id} className={s.listItem}>\n             <Link className={s.listItem} to={{pathname: `${url}/${movie.id}`, state: {from: location}}}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n      </div>\n  );\n}\n\nexport default MoviesList;","import { useState, useEffect } from \"react\";\nimport API from \"../../action/API\";\nimport SearchBar from \"./searchBar/SearchBar\";\nimport { toast } from \"react-toastify\";\nimport MoviesList from \"./moviesList/MoviesList\";\nimport { useHistory } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nconst Movies = () => {\n  const history = useHistory();\n  const [search, setSearch] = useState(null);\n  const [movies, setMovies] = useState(null);\n\n  useEffect(() => {\n    const queryParsed = queryString.parse(history.location.search);\n    if (search === null && queryParsed && queryParsed.query) {\n      setSearch(queryParsed.query);\n    }\n    if (search === null) {\n      return;\n    }\n\n    API.fetchMoviesByQuery(search).then((data) => {\n      if (search && data.results.length === 0) {\n        toast.warn(\"No results for your query\");\n        return;\n      }\n      setMovies(data.results);\n    }).catch(error => console.log(error));\n    \n  }, [history.location.search, search]);\n\n  const handleSubmit = (query) => {\n    setSearch(query);\n    history.push(`${history.location.pathname}?query=${query}`);\n  };\n\n  return (\n    <>\n      <SearchBar handleSubmit={handleSubmit} />\n      {movies && <MoviesList movies={movies} />}\n    </>\n  );\n};\n\nexport default Movies;\n","import Movies from \"../Components/movies/Movies\"\n\nconst MoviesPage = () => {\n  return (\n    <>\n    <Movies/>\n    </>\n  );\n}\n\nexport default MoviesPage;","\nconst API_KEY = \"0ab8998f8a4935c66d8f184668d89e03\";\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function fetchData(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n  ? await response.json()\n  : Promise.reject(new Error('Not found'));\n}\n\nconst API = {\n  fetchTrendingMovies() {\n    return fetchData(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\n  },\n\n  fetchMoviesByQuery(search) {\n    return fetchData(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${search}`)\n  },\n\n  fethMovieById(id){\n    return fetchData(`${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`)\n  },\n\n  fetchCast(id){\n    return fetchData(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`)\n  },\n\n  fetchReviews(id){\n    return fetchData(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`)\n  }\n};\n\nexport default API;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__2snjg\",\"searchForm\":\"SearchBar_searchForm__1lgaH\",\"searchFormButton\":\"SearchBar_searchFormButton__eAZ4_\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__nrZq8\",\"searchFormInput\":\"SearchBar_searchFormInput__3H3QE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listContainer\":\"MoviesList_listContainer__3e2P2\",\"listItem\":\"MoviesList_listItem__24Z7-\"};"],"sourceRoot":""}